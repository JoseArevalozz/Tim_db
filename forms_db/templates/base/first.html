{% extends 'main.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <!-- TÃ­tulo y Breadcrumb (nuevo) -->
    <h1 class="text-white">Test Integration Management</h1>
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb bg-transparent text-white">
            <li class="breadcrumb-item active text-white">Home</li>
        </ol>
    </nav>

    <!-- Widgets (nuevo) - Usando clases existentes -->
    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card card-rejects">
                <div class="card-body text-center">
                    <h5 class="card-title">Active Faults</h5>
                    <p class="card-text">{{ active_failures_count }} UUTs</p>
                    <a href="{% url 'showUuts' %}" class="btn btn-primary">Show</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-maintenance">
                <div class="card-body text-center">
                    <h5 class="card-title">Pending rejections</h5>
                    <p class="card-text">{{ pending_rejects_count }} UUTs</p>
                    <a href="{% url 'showRejecteds' %}" class="btn btn-warning">Show</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-metrics">
                <div class="card-body text-center">
                    <h5 class="card-title">Today yield</h5>
                    <p class="card-text">{{ today_yield }}%</p>
                    <a href="{% url 'menuMetricas' %}" class="btn btn-info">Metrics</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Botones Originales (Conservados con estilos) -->
    <div class="row text-center">
        <div id='rejectButton' class="btn border-0 col-sm-6 col-md-4 mt-3">
            <div class="card card-rejects">
                <div class="card-body">
                    <a class="card-title btn border-0" style="font-size: 25px;">Tests & Activities</a>
                    <img src="{% static 'images/rejectIcon.svg' %}">
                </div>
            </div>
        </div>
        <div id='maintenanceButton' class="btn border-0 col-sm-6 col-md-4 mt-3">
            <div class="card card-maintenance">
                <div class="card-body">
                    <a class="card-title btn border-0" style="font-size: 25px;">Register & Settings</a>
                    <img src="{% static 'images/maintenanceIcon.svg' %}">
                </div>
            </div>
        </div>
        <div id='metricButton' class="btn border-0 col-sm-6 col-md-4 mt-3">
            <div class="card card-metrics">
                <div class="card-body">
                    <a class="card-title btn border-0" style="font-size: 25px;">Metrics & Reports</a>
                    <img src="{% static 'images/metricsIcon.svg' %}">
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Scripts Originales (Conservados) -->
<script>
    document.getElementById("rejectButton").addEventListener("click", function() {
        window.location.href = "{% url 'menuPruebas' %}";
    });

    document.getElementById("maintenanceButton").addEventListener("click", function() {
        window.location.href = "{% url 'menuRegistros' %}";
    });

    document.getElementById("metricButton").addEventListener("click", function() {
        window.location.href = "{% url 'menuMetricas' %}";
    });
</script>
{% endblock %}